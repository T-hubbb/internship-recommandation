{% extends "base.html" %}
{% block title %}Internship Recommendations{% endblock %}

{% block content %}
<div class="main-container">
  <div class="card">
    <div class="card-header">
      Top Internship Recommendations
    </div>
    <div class="card-body">
      {% if results %}
        {% for item in results %}
        <div class="card mb-3" style="max-width: 800px; margin: 1rem auto;">
          <div class="card-header">
            {{ item.internship.title }} at {{ item.internship.company }}
          </div>
          <div class="card-body">
            <p><strong>Description:</strong> {{ item.internship.description }}</p>
            <p><strong>Required Skills:</strong> {{ item.internship.required_skills }}</p>
            {% if item.internship.preferred_skills %}
              <p><strong>Preferred Skills:</strong> {{ item.internship.preferred_skills }}</p>
            {% endif %}
            <p><strong>Stipend:</strong> â‚¹{{ item.internship.stipend }}</p>
            <p><strong>Popularity:</strong> {{ item.internship.popularity }}/100</p>
            <p><strong>Rating:</strong> {{ item.internship.rating }}/5</p>
            <p><strong>Company Prestige:</strong> {{ item.internship.company_prestige }}/10</p>
            <div class="alert alert-success" style="margin-top: 1rem;">
              <strong>Explanation:</strong><br>
              {{ item.explanation|replace('\n', '<br>')|safe }}
            </div>
            <div style="margin-top: 0.5rem;">
              <span style="font-weight: 600;">Relevance Score:</span>
              <span style="color: #2e6622;">{{ item.score }}</span>
            </div>
          </div>
        </div>
        {% endfor %}
      {% else %}
        <div class="alert alert-danger">
          No recommendations found for your profile.
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
